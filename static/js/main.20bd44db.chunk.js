(this["webpackJsonpmy-covid19-react-chartjs"]=this["webpackJsonpmy-covid19-react-chartjs"]||[]).push([[0],{259:function(e,a){},261:function(e,a){},273:function(e,a,t){},274:function(e,a,t){"use strict";t.r(a);var s=t(3),n=t.n(s),c=t(39),r=t.n(c),i=t(13),l=t(16),o=t(15),d=t(295),u=t(276),j=t(277),h=t(278),b=t(118),m=t(279),p=t(280),f=t(281),x=t(282),g=t(297),O=t(296),w=t.p+"static/media/1.3f014353.jpg",v=t.p+"static/media/coronavirus.79b1c82a.png",y=t(1),C=function(){var e=Object(s.useState)(!1),a=Object(l.a)(e,2),t=a[0],n=a[1],c=function(){return n(!t)};return Object(y.jsxs)("header",{className:"topbar navbarbg","data-navbarbg":"skin1",children:[Object(y.jsxs)(d.a,{isOpen:t,toggle:c,children:[Object(y.jsx)(u.a,{toggle:c,children:"Sorry"}),Object(y.jsx)(j.a,{children:"Nothing to show yet!"}),Object(y.jsx)(h.a,{children:Object(y.jsx)(b.a,{color:"secondary",onClick:c,children:"Close"})})]}),Object(y.jsxs)(m.a,{className:"top-navbar",dark:!0,expand:"md",children:[Object(y.jsxs)("div",{className:"navbar-header",id:"logobg","data-logobg":"skin6",children:[Object(y.jsxs)(p.a,{href:"./",children:[Object(y.jsxs)("b",{className:"logo-icon",children:[Object(y.jsx)("img",{width:"40px",src:v,alt:"homepage",className:"dark-logo"}),Object(y.jsx)("img",{width:"40px",src:v,alt:"homepage",className:"light-logo"})]}),Object(y.jsx)("span",{className:"logo-text font-weight-bold",style:{color:"red"},children:"Covid 19 Malaysia"})]}),Object(y.jsx)("button",{className:"btn-link nav-toggler d-block d-md-none",onClick:function(){document.getElementById("main-wrapper").classList.toggle("show-sidebar")},children:Object(y.jsx)("i",{className:"ti-menu ti-close"})})]}),Object(y.jsxs)(f.a,{className:"navbarbg",navbar:!0,"data-navbarbg":"skin1",children:[Object(y.jsx)("h3",{style:{color:"gold",marginLeft:10},children:"Malaysia Covid 19 using React and Chart.js"}),Object(y.jsx)(x.a,{className:"ml-auto float-right",navbar:!0,children:Object(y.jsx)(g.a,{nav:!0,inNavbar:!0,children:Object(y.jsx)(O.a,{nav:!0,caret:!0,className:"pro-pic",children:Object(y.jsx)("img",{src:w,alt:"user",className:"rounded-circle",width:"31",onClick:c})})})})]})]})]})},N=t(40),k=t(121),_=t.n(k),K=function(e){var a=function(){document.getElementById("logobg").classList.toggle("expand-logo")};return Object(y.jsx)("aside",{className:"left-sidebar",id:"sidebarbg","data-sidebarbg":"skin6",onMouseEnter:a.bind(null),onMouseLeave:a.bind(null),children:Object(y.jsx)("div",{className:"scroll-sidebar",children:Object(y.jsx)(_.a,{className:"sidebar-nav",children:Object(y.jsx)(x.a,{id:"sidebarnav",children:e.routes.map((function(a,t){return a.redirect?null:Object(y.jsx)("li",{className:(s=a.path,(e.location.pathname.indexOf(s)>-1?"selected":"")+(a.pro?" active active-pro":"")+" sidebar-item"),children:Object(y.jsxs)(N.b,{to:a.path,className:"sidebar-link",activeClassName:"active",children:[Object(y.jsx)("i",{className:a.icon}),Object(y.jsx)("span",{className:"hide-menu",children:a.name})]})},t);var s}))})})})})},V=function(){return Object(y.jsxs)("footer",{className:"footer text-center",children:["This site is for educational and learning purposes only."," ",Object(y.jsx)("a",{href:"./#/About",children:"About & Disclaimer"}),"."]})},I=t(283),S=t(284),P=t(285),M=t(286),L=t(287),D=t(288),R=t(289),E=t(290),A=t(291),F=function(){return Object(y.jsx)("div",{children:Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{lg:3}),Object(y.jsxs)(S.a,{lg:6,children:[Object(y.jsx)("h2",{className:"mb-3",children:"About"}),Object(y.jsxs)(P.a,{children:[Object(y.jsx)(M.a,{top:!0,src:v}),Object(y.jsxs)(L.a,{children:[Object(y.jsx)("p",{className:"lead",children:"This is just another simple site with source code to learn React Hooks, Bootstrap, and Chart.js"}),Object(y.jsxs)(D.a,{children:["The data for this site is from ",Object(y.jsx)("a",{href:"https://github.com/MoH-Malaysia/covid19-public",target:"_blank",children:"Open data on COVID-19 in Malaysia"})," and this site will do some simple calculations to display the data. Please ",Object(y.jsx)("a",{href:"https://github.com/sanme98/my-covid19-react-chartjs/issues",target:"_blank",children:"report the issue"})," if you found any bugs or miscalculations on this site, or even better, please fork the source code on Github, fix the bugs and contribute to the project."]}),Object(y.jsx)(R.a,{children:"Disclaimer"}),Object(y.jsx)(D.a,{children:"Please visit Covid-19 Data Official site for accurate Covid-19 information. This site is just for educational and learning purposes only. It has not gone through any rigorous QA and testing, so it might still have some bugs or miscalculations."}),Object(y.jsx)(R.a,{children:"Project Github URL"}),Object(y.jsx)(D.a,{children:Object(y.jsx)("a",{href:"https://github.com/sanme98/my-covid19-react-chartjs",target:"_blank",children:"https://github.com/sanme98/my-covid19-react-chartjs"})}),Object(y.jsxs)(D.a,{children:["Please head to ",Object(y.jsx)("a",{href:"https://mycsharpdeveloper.wordpress.com/2021/10/16/malaysia-covid-19-daily-new-cases-using-react-hook-and-chart-js",target:"_blank",children:"Malaysia Covid-19 Daily New Cases using React Hooks and Chart.js"})," for some brief explanations."]}),Object(y.jsx)(R.a,{children:"License"}),Object(y.jsx)(D.a,{children:Object(y.jsx)("a",{href:"https://github.com/sanme98/my-covid19-react-chartjs/blob/master/LICENSE",target:"_blank",children:"MIT License"})}),Object(y.jsx)(R.a,{children:"Credit / Some Libraries Used"}),Object(y.jsxs)(E.a,{children:[Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://github.com/MoH-Malaysia/covid19-public",target:"_blank",children:"Open data on COVID-19 in Malaysia"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://github.com/wrappixel/xtreme-react-lite",target:"_blank",children:"Xtreme React Admin Lite"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://reactjs.org/",target:"_blank",children:"React"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://getbootstrap.com/",target:"_blank",children:"Bootstrap"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://reactstrap.github.io/",target:"_blank",children:"reactstrap"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://www.chartjs.org/",target:"_blank",children:"Chart.js"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://www.chartjs.org/chartjs-plugin-zoom/",target:"_blank",children:"chartjs-plugin-zoom"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://www.papaparse.com/",target:"_blank",children:"Papa Parse"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://github.com/reactchartjs/react-chartjs-2",target:"_blank",children:"react-chartjs-2"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://github.com/glennreyes/react-countup",target:"_blank",children:"react-countup"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://github.com/Bunlong/react-papaparse",target:"_blank",children:"react-papaparse"})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("a",{href:"https://react-table.tanstack.com/",target:"_blank",children:"react-table"})}),Object(y.jsx)(A.a,{children:"..."})]})]})]})]}),Object(y.jsx)(S.a,{lg:3})]})})},U=t(124),z=t(17),T=t.n(z),H=t(14),W=t(23),B=t(30),G=t(20),J=t(21),Z=t.n(J),Q=t(22),X=t.n(Q),q=function(){var e=n.a.useState({casesKV:null,cases:[],dates:[],totalCases:0,newCases:0,changes:0,lastUpdate:null,accumulativeCases:null}),a=Object(l.a)(e,2),t=a[0],s=a[1],c=n.a.useRef(null);n.a.useEffect((function(){function e(){return(e=Object(W.a)(T.a.mark((function e(){var a,t,n,c,i,o,d,u,j,h,b,m,p,f,x,g,O;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_state.csv").then((function(e){return e.text()})).then((function(e){return Z.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:return a=e.sent,t=a.data.filter((function(e){return"Selangor"===e.state||"W.P. Kuala Lumpur"===e.state||"W.P. Putrajaya"===e.state})),n=t.map((function(e){return e.date})),c=t.filter((function(e){return e.date===n[n.length-1]})),i=t.filter((function(e){return e.date===n[n.length-4]})),o=t.map((function(e){return e.cases_new})),d=t.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),u=n[n.length-1],j=c.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),h=i.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),b=(j-h)/h*100,e.next=15,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/deaths_state.csv").then((function(e){return e.text()})).then((function(e){return Z.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 15:m=e.sent,p=m.data.filter((function(e){return"Selangor"===e.state||"W.P. Kuala Lumpur"===e.state||"W.P. Putrajaya"===e.state})),f=r(p,"date"),x=Object.fromEntries(Object.entries(f).map((function(e){var a=Object(l.a)(e,2);return[a[0],a[1].reduce((function(e,a){return parseInt(e)+parseInt(a.deaths_new_dod)}),0)]}))),g=Object.values(x),O=new Array(52).fill(0),n.length/3!==g.length+O.length&&(console.warn("Error in Death cases calculation. It will not display!"),g=[],O=[]),s({allCases:t,casesKV:t,cases:o,dates:n,totalCases:d,newCases:j,changes:b,lastUpdate:u,allCasesDeath:p,casesDeath:[].concat(Object(H.a)(O),Object(H.a)(g))});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}G.b.register(B.a),function(){e.apply(this,arguments)}()}),[]);var r=function(e,a){return e.reduce((function(e,t){return(e[t[a]]=e[t[a]]||[]).push(t),e}),{})},i=function(e){var a,n,c,i=new Date;void 0===e?(a=t.allCases,n=t.allCasesDeath,c=new Array(52).fill(0)):(i.setMonth(i.getMonth()-e),a=t.allCases.filter((function(e){return e.date>=i.toISOString().substr(0,10)})),n=t.allCasesDeath.filter((function(e){return e.date>=i.toISOString().substr(0,10)})),c=[]);var o=a.map((function(e){return e.date})),d=a.filter((function(e){return e.date===o[o.length-1]})),u=a.filter((function(e){return e.date===o[o.length-4]})),j=a.map((function(e){return e.cases_new})),h=a.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),b=o[o.length-1],m=d.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),p=u.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),f=(m-p)/p*100,x=r(n,"date"),g=Object.fromEntries(Object.entries(x).map((function(e){var a=Object(l.a)(e,2);return[a[0],a[1].reduce((function(e,a){return parseInt(e)+parseInt(a.deaths_new_dod)}),0)]}))),O=Object.values(g);o.length/3!==O.length+c.length&&(console.warn("Error in Death cases calculation. It will not display!"),Object(U.a)("casesDeath"),c=[]),s({allCases:t.allCases,casesKV:a,cases:j,dates:o,totalCases:h,newCases:m,changes:f,lastUpdate:b,allCasesDeath:t.allCasesDeath,casesDeath:[].concat(Object(H.a)(c),Object(H.a)(O))})},o=function(){return window.screen.width<=760},d={scales:{x:{stacked:!0},y:{stacked:!0},Line:{position:"right"}},maintainAspectRatio:!0,responsive:!0,animation:{duration:0},plugins:{zoom:{zoom:{wheel:{enabled:!0,modifierKey:"shift"},mode:"xy",speed:50},pan:{enabled:!o(),mode:"xy",speed:50}},legend:{onClick:null}}};return Object(y.jsxs)("div",{children:[Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Last Update"}),Object(y.jsx)("span",{className:"h3 font-weight-bold mb-0",children:null!==t.lastUpdate?t.lastUpdate:"-"})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-calendar"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total cases"}),Object(y.jsx)(X.a,{className:"h3 font-weight-bold mb-0",style:{color:"blue"},end:t.totalCases,separator:",",decimals:0,decimal:",",duration:2})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New cases"}),Object(y.jsx)("span",{className:"h3 font-weight-bold mb-0",style:{color:"red"},children:Object(y.jsx)("i",{className:"fas fa-arrow-up"})}),Object(y.jsx)(X.a,{className:"h3 font-weight-bold mb-0",style:{color:"red"},end:t.newCases,separator:",",decimals:0,decimal:",",duration:2})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-chart-pie"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Daily Changes"}),Object(y.jsxs)("span",{className:"h3 font-weight-bold mb-0",style:t.changes>0?{color:"red"}:{color:"green"},children:[Object(y.jsx)("i",{className:t.changes>0?"fas fa-arrow-up":"fas fa-arrow-down"}),t.changes.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-percent"})})})]})})})})]}),Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{lg:7,md:12,children:Object(y.jsx)("div",{className:"header",children:Object(y.jsx)("h1",{className:"title",children:"Klang Valley Covid 19 Daily New Cases"})})}),Object(y.jsxs)(S.a,{lg:5,md:12,className:"text-right",children:[Object(y.jsx)(b.a,{color:"primary",onClick:function(){return i()},style:{marginRight:"3px"},children:"All"}),Object(y.jsx)(b.a,{color:"primary",onClick:function(){return i(6)},style:{marginRight:"3px"},children:"6 Months"}),Object(y.jsx)(b.a,{color:"primary",onClick:function(){return i(3)},style:{marginRight:"3px"},children:"3 Months"}),Object(y.jsx)(b.a,{title:"Shift key to zoom",onClick:function(){c.current.resetZoom()},style:{display:o()?"none":"inline-block"},children:"Reset zoom"})]})]}),Object(y.jsx)(I.a,{children:Object(y.jsx)(S.a,{sm:12,style:{paddingLeft:"0px",paddingRight:"0px"},children:Object(y.jsx)(G.a,{ref:c,data:function(){var e=null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.cases_new})):[],a=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Kuala Lumpur"===e.state})).map((function(e){return e.cases_new})):[],s=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Putrajaya"===e.state})).map((function(e){return e.cases_new})):[];return{labels:null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.date})):[],datasets:[{type:"line",label:"# of Death",backgroundColor:"#666666",data:t.casesDeath,yAxisID:"Line"},{type:"bar",label:"Selangor",backgroundColor:"#f87979",data:e},{type:"bar",label:"Kuala Lumpur",backgroundColor:"#007979",data:a},{type:"bar",label:"Putrajaya",backgroundColor:"#000079",data:s}]}},options:d,className:"mb-xl-4"})})})]})},Y=function(){var e=n.a.useState({casesKV:null,cases:[],dates:[],totalCases:0,newCases:0,changes:0,lastUpdate:null,accumulativeCases:null}),a=Object(l.a)(e,2),t=a[0],s=a[1],c=n.a.useRef(null);n.a.useEffect((function(){function e(){return(e=Object(W.a)(T.a.mark((function e(){var a,t,n,c,r,i,l,o,d,u,j,h,b,m;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_state.csv").then((function(e){return e.text()})).then((function(e){return Z.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:for(a=e.sent,t=a.data.filter((function(e){return"Sabah"===e.state||"Sarawak"===e.state||"W.P. Labuan"===e.state})),n=t.map((function(e){return e.date})),c=t.filter((function(e){return e.date===n[n.length-1]})),r=t.filter((function(e){return e.date===n[n.length-4]})),i=t.map((function(e){return e.cases_new})),l=t.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),o=n[n.length-1],d=c.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=(d-u)/u*100,h=[],b=0,m=0;m<i.length;m++)b+=parseInt(i[m]),0!==m&&(m+1)%3===0&&h.push(b);l!==b&&(console.warn("Error in Accumulate cases calculation. It will not display!"),h=[]),s({allCases:t,casesKV:t,cases:i,dates:n,totalCases:l,newCases:d,changes:j,lastUpdate:o,accumulativeCases:h});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}G.b.register(B.a),function(){e.apply(this,arguments)}()}),[]);var r=function(e){var a,n=new Date;void 0===e?a=t.allCases:(n.setMonth(n.getMonth()-e),a=t.allCases.filter((function(e){return e.date>=n.toISOString().substr(0,10)})));for(var c=a.map((function(e){return e.date})),r=a.filter((function(e){return e.date===c[c.length-1]})),i=a.filter((function(e){return e.date===c[c.length-4]})),l=a.map((function(e){return e.cases_new})),o=a.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),d=c[c.length-1],u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=i.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),h=(u-j)/j*100,b=[],m=0,p=0;p<l.length;p++)m+=parseInt(l[p]),0!==p&&(p+1)%3===0&&b.push(m);o!==m&&(console.warn("Error in Accumulate cases calculation. It will not display!"),b=[]),s({allCases:t.allCases,casesKV:a,cases:l,dates:c,totalCases:o,newCases:u,changes:h,lastUpdate:d,accumulativeCases:b})},i=function(){return window.screen.width<=760},o={scales:{x:{stacked:!0},y:{stacked:!0},Line:{position:"right"}},maintainAspectRatio:!0,responsive:!0,animation:{duration:0},plugins:{zoom:{zoom:{wheel:{enabled:!0,modifierKey:"shift"},mode:"xy",speed:50},pan:{enabled:!i(),mode:"xy",speed:50}},legend:{onClick:null}}};return Object(y.jsxs)("div",{children:[Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Last Update"}),Object(y.jsx)("span",{className:"h3 font-weight-bold mb-0",children:null!==t.lastUpdate?t.lastUpdate:"-"})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-calendar"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total cases"}),Object(y.jsx)(X.a,{className:"h3 font-weight-bold mb-0",style:{color:"blue"},end:t.totalCases,separator:",",decimals:0,decimal:",",duration:2})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New cases"}),Object(y.jsx)("span",{className:"h3 font-weight-bold mb-0",style:{color:"red"},children:Object(y.jsx)("i",{className:"fas fa-arrow-up"})}),Object(y.jsx)(X.a,{className:"h3 font-weight-bold mb-0",style:{color:"red"},end:t.newCases,separator:",",decimals:0,decimal:",",duration:2})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-chart-pie"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Daily Changes"}),Object(y.jsxs)("span",{className:"h3 font-weight-bold mb-0",style:t.changes>0?{color:"red"}:{color:"green"},children:[Object(y.jsx)("i",{className:t.changes>0?"fas fa-arrow-up":"fas fa-arrow-down"}),t.changes.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-percent"})})})]})})})})]}),Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{lg:7,md:12,children:Object(y.jsx)("div",{className:"header",children:Object(y.jsx)("h1",{className:"title",children:"East Malaysia Covid 19 Daily New Cases"})})}),Object(y.jsxs)(S.a,{lg:5,md:12,className:"text-right",children:[Object(y.jsx)(b.a,{color:"primary",onClick:function(){return r()},style:{marginRight:"3px"},children:"All"}),Object(y.jsx)(b.a,{color:"primary",onClick:function(){return r(6)},style:{marginRight:"3px"},children:"6 Months"}),Object(y.jsx)(b.a,{color:"primary",onClick:function(){return r(3)},style:{marginRight:"3px"},children:"3 Months"}),Object(y.jsx)(b.a,{title:"Shift key to zoom",onClick:function(){c.current.resetZoom()},style:{display:i()?"none":"inline-block"},children:"Reset zoom"})]})]}),Object(y.jsx)(I.a,{children:Object(y.jsx)(S.a,{sm:12,style:{paddingLeft:"0px",paddingRight:"0px"},children:Object(y.jsx)(G.a,{ref:c,data:function(){var e=null!=t.casesKV?t.casesKV.filter((function(e){return"Sabah"===e.state})).map((function(e){return e.cases_new})):[],a=null!=t.casesKV?t.casesKV.filter((function(e){return"Sarawak"===e.state})).map((function(e){return e.cases_new})):[],s=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Labuan"===e.state})).map((function(e){return e.cases_new})):[];return{labels:null!=t.casesKV?t.casesKV.filter((function(e){return"Sabah"===e.state})).map((function(e){return e.date})):[],datasets:[{type:"line",label:"Accumulate Cases",data:t.accumulativeCases,yAxisID:"Line"},{label:"Sabah",backgroundColor:"#f87979",data:e},{label:"Sarawak",backgroundColor:"#007979",data:a},{label:"Labuan",backgroundColor:"#000079",data:s}]}},options:o,className:"mb-xl-4"})})})]})},$=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{md:0,lg:2}),Object(y.jsx)(S.a,{md:12,lg:8,children:Object(y.jsx)(G.d,{data:e.data})}),Object(y.jsx)(S.a,{md:0,lg:2})]})})},ee=function(){var e=n.a.useState({casesKV:null,cases:[],dates:[],totalCases:0,newCases:0,changes:0,lastUpdate:null,accumulativeCases:[]}),a=Object(l.a)(e,2),t=a[0],s=a[1],c=n.a.useRef(null);n.a.useEffect((function(){function e(){return(e=Object(W.a)(T.a.mark((function e(){var a,t,n,c,r,i,l,o,d,u,j,h,b,m;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_state.csv").then((function(e){return e.text()})).then((function(e){return Z.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:for(a=e.sent,t=a.data.filter((function(e){return"Sabah"!==e.state&&"Sarawak"!==e.state&&"W.P. Labuan"!==e.state})),n=t.map((function(e){return e.date})),c=t.filter((function(e){return e.date===n[n.length-1]})),r=t.filter((function(e){return e.date===n[n.length-14]})),i=t.map((function(e){return e.cases_new})),l=t.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),o=n[n.length-1],d=c.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=(d-u)/u*100,h=[],b=0,m=0;m<i.length;m++)b+=parseInt(i[m]),0!==m&&(m+1)%13===0&&h.push(b);l!==b&&(console.warn("Error in Accumulate cases calculation. It will not display!"),h=[]),s({allCases:t,casesKV:t,cases:i,dates:n,totalCases:l,newCases:d,changes:j,lastUpdate:o,accumulativeCases:h});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}G.b.register(B.a),function(){e.apply(this,arguments)}()}),[]);var r=function(e){var a,n=new Date;void 0===e?a=t.allCases:(n.setMonth(n.getMonth()-e),a=t.allCases.filter((function(e){return e.date>=n.toISOString().substr(0,10)})));for(var c=a.map((function(e){return e.date})),r=a.filter((function(e){return e.date===c[c.length-1]})),i=a.filter((function(e){return e.date===c[c.length-14]})),l=a.map((function(e){return e.cases_new})),o=a.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),d=c[c.length-1],u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=i.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),h=(u-j)/j*100,b=[],m=0,p=0;p<l.length;p++)m+=parseInt(l[p]),0!==p&&(p+1)%13===0&&b.push(m);o!==m&&(console.warn("Error in Accumulate cases calculation. It will not display!"),b=[]),s({allCases:t.allCases,casesKV:a,cases:l,dates:c,totalCases:o,newCases:u,changes:h,lastUpdate:d,accumulativeCases:b})},i=function(){return window.screen.width<=760},o={scales:{x:{stacked:!0},y:{stacked:!0}},maintainAspectRatio:!0,responsive:!0,animation:{duration:0},plugins:{zoom:{zoom:{wheel:{enabled:!0,modifierKey:"shift"},mode:"xy",speed:50},pan:{enabled:!i(),mode:"xy",speed:50}}}};return Object(y.jsxs)("div",{children:[Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Last Update"}),Object(y.jsx)("span",{className:"h3 font-weight-bold mb-0",children:null!==t.lastUpdate?t.lastUpdate:"-"})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-calendar"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total cases"}),Object(y.jsx)(X.a,{className:"h3 font-weight-bold mb-0",style:{color:"blue"},end:t.totalCases,separator:",",decimals:0,decimal:",",duration:2})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New cases"}),Object(y.jsx)("span",{className:"h3 font-weight-bold mb-0",style:{color:"red"},children:Object(y.jsx)("i",{className:"fas fa-arrow-up"})}),Object(y.jsx)(X.a,{className:"h3 font-weight-bold mb-0",style:{color:"red"},end:t.newCases,separator:",",decimals:0,decimal:",",duration:2})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-chart-pie"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Daily Changes"}),Object(y.jsxs)("span",{className:"h3 font-weight-bold mb-0",style:t.changes>0?{color:"red"}:{color:"green"},children:[Object(y.jsx)("i",{className:t.changes>0?"fas fa-arrow-up":"fas fa-arrow-down"}),t.changes.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-percent"})})})]})})})})]}),Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{xl:7,lg:12,children:Object(y.jsx)("div",{className:"header",children:Object(y.jsx)("h1",{className:"title",children:"West Malaysia Covid 19 Daily New Cases"})})}),Object(y.jsxs)(S.a,{xl:5,lg:12,className:"text-right",children:[Object(y.jsx)(b.a,{color:"primary",onClick:function(){return r()},style:{marginRight:"3px"},children:"All"}),Object(y.jsx)(b.a,{color:"primary",onClick:function(){return r(6)},style:{marginRight:"3px"},children:"6 Months"}),Object(y.jsx)(b.a,{color:"primary",onClick:function(){return r(3)},style:{marginRight:"3px"},children:"3 Months"}),Object(y.jsx)(b.a,{title:"Shift key to zoom",onClick:function(){c.current.resetZoom()},style:{display:i()?"none":"inline-block"},children:"Reset zoom"})]})]}),Object(y.jsx)(I.a,{children:Object(y.jsx)(S.a,{sm:12,style:{paddingLeft:"0px",paddingRight:"0px"},children:Object(y.jsx)(G.a,{ref:c,data:function(){var e=null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.cases_new})):[],a=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Kuala Lumpur"===e.state})).map((function(e){return e.cases_new})):[],s=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Putrajaya"===e.state})).map((function(e){return e.cases_new})):[],n=null!=t.casesKV?t.casesKV.filter((function(e){return"Johor"===e.state})).map((function(e){return e.cases_new})):[],c=null!=t.casesKV?t.casesKV.filter((function(e){return"Kedah"===e.state})).map((function(e){return e.cases_new})):[],r=null!=t.casesKV?t.casesKV.filter((function(e){return"Kelantan"===e.state})).map((function(e){return e.cases_new})):[],i=null!=t.casesKV?t.casesKV.filter((function(e){return"Melaka"===e.state})).map((function(e){return e.cases_new})):[],l=null!=t.casesKV?t.casesKV.filter((function(e){return"Negeri Sembilan"===e.state})).map((function(e){return e.cases_new})):[],o=null!=t.casesKV?t.casesKV.filter((function(e){return"Pahang"===e.state})).map((function(e){return e.cases_new})):[],d=null!=t.casesKV?t.casesKV.filter((function(e){return"Perak"===e.state})).map((function(e){return e.cases_new})):[],u=null!=t.casesKV?t.casesKV.filter((function(e){return"Perlis"===e.state})).map((function(e){return e.cases_new})):[],j=null!=t.casesKV?t.casesKV.filter((function(e){return"Pulau Pinang"===e.state})).map((function(e){return e.cases_new})):[],h=null!=t.casesKV?t.casesKV.filter((function(e){return"Terengganu"===e.state})).map((function(e){return e.cases_new})):[];return{labels:null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.date})):[],datasets:[{label:"Selangor",backgroundColor:"#f87979",data:e},{label:"Kuala Lumpur",backgroundColor:"#007979",data:a},{label:"Putrajaya",backgroundColor:"#000079",data:s},{label:"Johor",backgroundColor:"#CCFF00",data:n},{label:"Kedah",backgroundColor:"#000000",data:c},{label:"Kelantan",backgroundColor:"#3366FF",data:r},{label:"Melaka",backgroundColor:"#CCCC00",data:i},{label:"Sembilan",backgroundColor:"#CCCCFF",data:l},{label:"Pahang",backgroundColor:"#FFCC99",data:o},{label:"Perak",backgroundColor:"#CC9966",data:d},{label:"Perlis",backgroundColor:"#CC99FF",data:u},{label:"Pulau Pinang",backgroundColor:"#660000",data:j},{label:"Terengganu",backgroundColor:"#333333",data:h}]}},options:o,className:"mb-xl-4"})})}),Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{md:5,children:Object(y.jsx)($,{data:function(){return{labels:["Selangor","Kuala Lumpur","Putrajaya","Johor","Kedah","Kelantan","Melaka","Sembilan","Pahang","Perak","Perlis","Penang","Terengganu"],datasets:[{data:[null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Kuala Lumpur"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Putrajaya"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Johor"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Kedah"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Kelantan"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Melaka"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Negeri Sembilan"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Pahang"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Perak"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Perlis"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Pulau Pinang"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Terengganu"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0],label:"# of Cases",backgroundColor:["rgba(248, 121, 121, 0.5)","rgba(0, 121, 121, 0.5)","rgba(0, 0, 121, 0.5)","rgba(204, 255, 0, 0.5)","rgba(0, 0, 0, 0.5)","rgba(51, 102, 255, 0.5)","rgba(204, 204, 0, 0.5)","rgba(204, 204, 255, 0.5)","rgba(255, 204, 153, 0.5)","rgba(204, 153, 102, 0.5)","rgba(204, 153, 255, 0.5)","rgba(102, 0, 0, 0.5)","rgba(51, 51, 51, 0.5)"],borderWidth:1}]}}})}),Object(y.jsx)(S.a,{md:7,children:Object(y.jsx)(G.c,{data:function(){return{labels:null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.date})):[],datasets:[{label:"Accumulate Cases",backgroundColor:"#f87979",data:t.accumulativeCases}]}}})})]})]})},ae=t(292),te=function(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h4",{children:"Last 30 Days New Cases"}),Object(y.jsxs)(ae.a,{hover:!0,size:"sm",striped:!0,bordered:!0,id:"data",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:["Date","New Cases","Recovered Cases","Active Cases","Death"].map((function(e,a){return Object(y.jsx)("th",{children:e.toUpperCase()},a)}))})}),Object(y.jsx)("tbody",{children:e.data&&e.data.map((function(e){var a=e.date,t=e.cases_new,s=e.cases_recovered,n=e.cases_active,c=e.deaths_new_dod;return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:a}),Object(y.jsx)("td",{children:parseInt(t).toLocaleString()}),Object(y.jsx)("td",{children:parseInt(s).toLocaleString()}),Object(y.jsx)("td",{children:parseInt(n).toLocaleString()}),Object(y.jsx)("td",{children:parseInt(c).toLocaleString()})]},a)}))})]})]})},se=function(){var e=n.a.useState({allCases:null,last30Cases:null,cases:[],dates:[],totalCases:0,newCases:0,changes:0,lastUpdate:null}),a=Object(l.a)(e,2),t=a[0],s=a[1],c=n.a.useState(!1),r=Object(l.a)(c,2),i=r[0],o=r[1],d=n.a.useRef(null);function u(){return j.apply(this,arguments)}function j(){return(j=Object(W.a)(T.a.mark((function e(){var a,t,n,c,r,i,l,o,d,u,j,h,b,m,p,f;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_malaysia.csv").then((function(e){return e.text()})).then((function(e){return Z.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:return a=e.sent,t=a.data,n=t.map((function(e){return e.cases_new})),c=t.map((function(e){return e.date})),r=t.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),i=c[c.length-1],l=parseInt(n[n.length-1]),o=parseInt(n[n.length-2]),d=(l-o)/o*100,u=t.slice(-30),e.next=14,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/deaths_malaysia.csv").then((function(e){return e.text()})).then((function(e){return Z.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 14:for(j=e.sent,h=j.data,b=h.map((function(e){return e.deaths_new_dod})),m=new Array(52).fill(0),c.length!==b.length+m.length&&(console.warn("Error in Death cases calculation. It will not display!"),b=[],m=[]),p=0;p<30;p++)f=h[h.length-1-p],u[29-p].deaths_new_dod=f.deaths_new_dod;s({allCases:t,last30Cases:u.reverse(),cases:n,dates:c,totalCases:r,newCases:l,changes:d,lastUpdate:i,allCasesDeath:h,casesDeath:[].concat(Object(H.a)(m),Object(H.a)(b))});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.a.useEffect((function(){G.b.register(B.a),u()}),[]);var h=n.a.useCallback(Object(W.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:return o(!0),e.next=5,u();case 5:o(!1);case 6:case"end":return e.stop()}}),e)}))),[i]),m=function(){return window.screen.width<=760},p={scales:{Line:{position:"right"}},maintainAspectRatio:!0,responsive:!0,animation:{duration:m()?0:1e3},plugins:{zoom:{zoom:{wheel:{enabled:!0,modifierKey:"shift"},mode:"xy",speed:50},pan:{enabled:!m(),mode:"xy",speed:50}}}},f=function(e){var a,n,c,r=new Date;void 0===e?(a=t.allCases,n=t.allCasesDeath,c=new Array(52).fill(0)):(r.setMonth(r.getMonth()-e),a=t.allCases.filter((function(e){return e.date>=r.toISOString().substr(0,10)})),n=t.allCasesDeath.filter((function(e){return e.date>=r.toISOString().substr(0,10)})),c=[]);var i=a.map((function(e){return e.cases_new})),l=a.map((function(e){return e.date})),o=a.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),d=l[l.length-1],u=parseInt(i[i.length-1]),j=parseInt(i[i.length-2]),h=(u-j)/j*100,b=a.slice(-30),m=n.map((function(e){return e.deaths_new_dod}));l.length!==m.length+c.length&&(console.warn("Error in Death cases calculation. It will not display!"),m=[],c=[]);for(var p=0;p<30;p++){var f=n[n.length-1-p];b[29-p].deaths_new_dod=f.deaths_new_dod}s({allCases:t.allCases,last30Cases:b.reverse(),cases:i,dates:l,totalCases:o,newCases:u,changes:h,lastUpdate:d,allCasesDeath:t.allCasesDeath,casesDeath:[].concat(Object(H.a)(c),Object(H.a)(m))})};return Object(y.jsxs)("div",{children:[Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Last Update"}),Object(y.jsx)("span",{className:"h3 font-weight-bold mb-0",children:null!==t.lastUpdate?t.lastUpdate:"-"})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-calendar"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total cases"}),Object(y.jsx)(X.a,{className:"h3 font-weight-bold mb-0",style:{color:"blue"},end:t.totalCases,separator:",",decimals:0,decimal:",",duration:2})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New cases"}),Object(y.jsx)("span",{className:"h3 font-weight-bold mb-0",style:{color:"red"},children:Object(y.jsx)("i",{className:"fas fa-arrow-up"})}),Object(y.jsx)(X.a,{className:"h3 font-weight-bold mb-0",style:{color:"red"},end:t.newCases,separator:",",decimals:0,decimal:",",duration:2})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-chart-pie"})})})]})})})}),Object(y.jsx)(S.a,{sm:6,lg:3,children:Object(y.jsx)(P.a,{className:"card-stats",children:Object(y.jsx)(L.a,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Daily Changes"}),Object(y.jsxs)("span",{className:"h3 font-weight-bold mb-0",style:t.changes>0?{color:"red"}:{color:"green"},children:[Object(y.jsx)("i",{className:t.changes>0?"fas fa-arrow-up":"fas fa-arrow-down"}),t.changes.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]}),Object(y.jsx)(S.a,{className:"col-auto",children:Object(y.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",children:Object(y.jsx)("i",{className:"fas fa-percent"})})})]})})})})]}),Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S.a,{lg:7,md:12,children:Object(y.jsx)("div",{className:"header",children:Object(y.jsx)("h1",{className:"title",children:"Malaysia Covid 19 Daily New Cases"})})}),Object(y.jsxs)(S.a,{lg:5,md:12,className:"text-right",children:[Object(y.jsx)(b.a,{color:"primary",onClick:function(){return f()},style:{marginRight:"3px",marginTop:"2px"},children:"All"}),Object(y.jsx)(b.a,{color:"primary",onClick:function(){return f(6)},style:{marginRight:"3px",marginTop:"2px"},children:"6 Months"}),Object(y.jsx)(b.a,{color:"primary",onClick:function(){return f(3)},style:{marginRight:"3px",marginTop:"2px"},children:"3 Months"}),Object(y.jsx)(b.a,{title:"Shift key to zoom",onClick:function(){d.current.resetZoom()},style:{marginRight:"3px",marginTop:"2px",display:m()?"none":"inline-block"},children:"Reset zoom"}),Object(y.jsx)(b.a,{color:"warning",disabled:i,onClick:h,style:{marginTop:"2px"},children:"Reload"})]})]}),Object(y.jsx)(I.a,{children:Object(y.jsx)(S.a,{sm:12,style:{paddingLeft:"0px",paddingRight:"0px"},children:Object(y.jsx)(G.a,{ref:d,data:function(){return{labels:t.dates,datasets:[{type:"line",label:"# of Death",backgroundColor:"#666666",data:t.casesDeath,yAxisID:"Line"},{type:"bar",label:"# of Covid",backgroundColor:"#f87979",data:t.cases,yAxisID:"Bar"}]}},options:p,className:"mb-xl-4"})})}),Object(y.jsx)(I.a,{children:Object(y.jsx)(S.a,{sm:12,children:Object(y.jsx)(te,{data:t.last30Cases})})}),Object(y.jsx)(I.a,{children:Object(y.jsx)(S.a,{className:"text-right",children:Object(y.jsx)("a",{style:{color:"white"},href:"#/DataMalaysia",children:Object(y.jsx)(b.a,{color:"info",children:"More Detail"})})})})]})},ne=t(293),ce=t(294),re=t(47);function ie(e){var a=e.columns,t=e.data,s=n.a.useMemo((function(){return{Filter:c}}),[]);function c(e){var a=e.column,t=a.filterValue,s=a.preFilteredRows,n=a.setFilter,c=s.length;return Object(y.jsx)(ne.a,{value:t||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var r=Object(re.useTable)({columns:a,data:t,initialState:{pageIndex:0,pageSize:20},defaultColumn:s},re.useFilters,re.useSortBy,re.usePagination),l=r.getTableProps,o=r.getTableBodyProps,d=r.headerGroups,u=(r.rows,r.prepareRow),j=r.page,h=r.canPreviousPage,m=r.canNextPage,p=r.pageOptions,f=r.pageCount,x=r.gotoPage,g=r.nextPage,O=r.previousPage,w=r.setPageSize,v=r.state,C=v.pageIndex,N=v.pageSize;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(ae.a,Object(i.a)(Object(i.a)({striped:!0,bordered:!0,hover:!0,size:"sm"},l()),{},{children:[Object(y.jsxs)("thead",{children:[d.map((function(e){return Object(y.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(y.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(y.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))})),d.map((function(e){return Object(y.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(y.jsx)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps()),{},{children:Object(y.jsx)("div",{children:e.canFilter?e.render("Filter"):null})}))}))}))}))]}),Object(y.jsx)("tbody",Object(i.a)(Object(i.a)({},o()),{},{children:j.map((function(e,a){return u(e),Object(y.jsx)("tr",Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(y.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(y.jsxs)("div",{style:{display:"flex",flexFlow:"row wrap",rowGap:"3px"},children:[Object(y.jsxs)("div",{style:{display:"flex",flexFlow:"row",columnGap:"3px"},children:[Object(y.jsx)("div",{children:Object(y.jsx)(b.a,{onClick:function(){return x(0)},disabled:!h,children:"<<"})}),Object(y.jsx)("div",{children:Object(y.jsx)(b.a,{onClick:function(){return O()},disabled:!h,children:"<"})}),Object(y.jsx)("div",{children:Object(y.jsx)(b.a,{onClick:function(){return g()},disabled:!m,children:">"})}),Object(y.jsx)("div",{children:Object(y.jsx)(b.a,{onClick:function(){return x(f-1)},disabled:!m,children:">>"})}),Object(y.jsx)("div",{style:{paddingTop:"8px"},children:Object(y.jsxs)("span",{style:{marginRight:"3px",whiteSpace:"pre"},children:["Page"," ",Object(y.jsxs)("strong",{children:[C+1," of ",p.length]})]})})]}),Object(y.jsxs)("div",{style:{display:"flex",flexFlow:"row"},children:[Object(y.jsx)("div",{style:{paddingTop:"8px",marginRight:"3px"},children:Object(y.jsx)(ce.a,{for:"pageNo",style:{whiteSpace:"pre"},children:"Go to page:"})}),Object(y.jsx)("div",{style:{width:"75px",marginRight:"3px"},children:Object(y.jsx)(ne.a,{type:"number",defaultValue:C+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;x(a)},id:"pageNo"})})]}),Object(y.jsx)("div",{style:{width:"125px"},children:Object(y.jsx)(ne.a,{type:"select",value:N,onChange:function(e){w(Number(e.target.value))},children:[10,20,50,100].map((function(e){return Object(y.jsxs)("option",{value:e,children:["Show ",e]},e)}))})})]})]})}var le=function(){var e=n.a.useState([]),a=Object(l.a)(e,2),t=a[0],s=a[1],c=n.a.useMemo((function(){return[{Header:"Date",accessor:"date"},{Header:"New Cases",accessor:"cases_new",Filter:r,filter:i},{Header:"Import Cases",accessor:"cases_import",Filter:r,filter:i},{Header:"Recovered Cases",accessor:"cases_recovered",Filter:r,filter:i},{Header:"Active Cases",accessor:"cases_active",Filter:r,filter:i}]}),[]);function r(e){var a=e.column,t=a.filterValue,s=a.setFilter,c=a.preFilteredRows,r=a.id,i=n.a.useMemo((function(){var e=c.length?c[0].values[r]:0,a=c.length?c[0].values[r]:0;return c.forEach((function(t){e=Math.min(t.values[r],e),a=Math.max(t.values[r],a)})),[e,a]}),[r,c]),o=Object(l.a)(i,2),d=o[0],u=o[1];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(ne.a,{type:"range",min:d,max:u,value:t||d,onChange:function(e){s(parseInt(e.target.value,10))}})})}function i(e,a,t){return e.filter((function(e){return e.values[a]>=t}))}return n.a.useEffect((function(){function e(){return(e=Object(W.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_malaysia.csv").then((function(e){return e.text()})).then((function(e){return Z.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:a=e.sent,s(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i.autoRemove=function(e){return"number"!==typeof e},Object(y.jsx)("div",{children:Object(y.jsx)(ie,{columns:c,data:t})})},oe=[{path:"/dashboard",name:"Malaysia",icon:"ti-loop",component:se},{path:"/KlangValley",name:"Klang Valley",icon:"mdi mdi-credit-card-multiple",component:q},{path:"/EastMalaysia",name:"East Malaysia",icon:"mdi mdi-comment-processing-outline",component:Y},{path:"/WestMalaysia",name:"West Malaysia",icon:"mdi mdi-apps",component:ee},{path:"/About",name:"About",icon:"mdi mdi-arrange-send-backward",component:F},{path:"/",pathTo:"/dashboard",name:"Dashboard",redirect:!0}],de=t(127),ue=t.n(de),je=void 0,he=[{path:"/",name:"Starter",component:function(e){var a=Object(s.useState)(window.innerWidth),t=Object(l.a)(a,2),n=t[0],c=t[1];return e.history.listen((function(e,a){window.innerWidth<767&&-1!==document.getElementById("main-wrapper").className.indexOf("show-sidebar")&&document.getElementById("main-wrapper").classList.toggle("show-sidebar")})),Object(s.useEffect)((function(){var e=function(){var e=document.getElementById("main-wrapper");c(window.innerWidth),n<1170?(e.setAttribute("data-sidebartype","mini-sidebar"),e.classList.add("mini-sidebar")):(e.setAttribute("data-sidebartype","full"),e.classList.remove("mini-sidebar"))};return"complete"===document.readyState&&e(),window.addEventListener("resize",e.bind(je)),window.addEventListener("load",e.bind(je)),function(){window.removeEventListener("load",e.bind(je)),window.removeEventListener("resize",e.bind(je))}}),[n]),Object(y.jsxs)("div",{id:"main-wrapper","data-theme":"light","data-layout":"vertical","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed","data-boxed-layout":"full",children:[Object(y.jsx)(C,{}),Object(y.jsx)(K,Object(i.a)(Object(i.a)({},e),{},{routes:oe})),Object(y.jsxs)("div",{className:"page-wrapper d-block",children:[Object(y.jsxs)("div",{className:"page-content container-fluid",children:[Object(y.jsxs)(o.d,{children:[Object(y.jsx)(o.b,{path:"/DataMalaysia",children:Object(y.jsx)(le,{})}),oe.map((function(e,a){return e.redirect?Object(y.jsx)(o.a,{from:e.path,to:e.pathTo},a):Object(y.jsx)(o.b,{path:e.path,component:e.component},a)}))]}),Object(y.jsx)(ue.a,{showUnder:160,style:{bottom:30},children:Object(y.jsx)("i",{className:"far fa-arrow-alt-circle-up",style:{fontSize:"40px"}})})]}),Object(y.jsx)(V,{})]})]})}}];t(273);r.a.render(Object(y.jsx)(N.a,{children:Object(y.jsx)(o.d,{children:he.map((function(e,a){return Object(y.jsx)(o.b,{path:e.path,component:e.component},a)}))})}),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.20bd44db.chunk.js.map