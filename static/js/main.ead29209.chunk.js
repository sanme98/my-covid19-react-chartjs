(this["webpackJsonpmy-covid19-react-chartjs"]=this["webpackJsonpmy-covid19-react-chartjs"]||[]).push([[0],{258:function(e,a){},260:function(e,a){},271:function(e,a,t){},272:function(e,a,t){"use strict";t.r(a);var s=t(3),n=t.n(s),c=t(39),r=t.n(c),l=t(13),i=t(15),o=t(14),d=t(293),u=t(273),j=t(274),h=t(275),b=t(118),m=t(276),p=t(277),f=t(278),x=t(279),g=t(295),O=t(294),w=t.p+"static/media/1.3f014353.jpg",v=t.p+"static/media/coronavirus.79b1c82a.png",N=t(1),C=function(){var e=Object(s.useState)(!1),a=Object(i.a)(e,2),t=a[0],n=a[1],c=function(){return n(!t)};return Object(N.jsxs)("header",{className:"topbar navbarbg","data-navbarbg":"skin1",children:[Object(N.jsxs)(d.a,{isOpen:t,toggle:c,children:[Object(N.jsx)(u.a,{toggle:c,children:"Sorry"}),Object(N.jsx)(j.a,{children:"Nothing to show yet!"}),Object(N.jsx)(h.a,{children:Object(N.jsx)(b.a,{color:"secondary",onClick:c,children:"Close"})})]}),Object(N.jsxs)(m.a,{className:"top-navbar",dark:!0,expand:"md",children:[Object(N.jsxs)("div",{className:"navbar-header",id:"logobg","data-logobg":"skin6",children:[Object(N.jsxs)(p.a,{href:"/",children:[Object(N.jsxs)("b",{className:"logo-icon",children:[Object(N.jsx)("img",{width:"40px",src:v,alt:"homepage",className:"dark-logo"}),Object(N.jsx)("img",{width:"40px",src:v,alt:"homepage",className:"light-logo"})]}),Object(N.jsx)("span",{className:"logo-text font-weight-bold",style:{color:"red"},children:"Covid 19 Malaysia"})]}),Object(N.jsx)("button",{className:"btn-link nav-toggler d-block d-md-none",onClick:function(){document.getElementById("main-wrapper").classList.toggle("show-sidebar")},children:Object(N.jsx)("i",{className:"ti-menu ti-close"})})]}),Object(N.jsxs)(f.a,{className:"navbarbg",navbar:!0,"data-navbarbg":"skin1",children:[Object(N.jsx)("h3",{style:{color:"gold",marginLeft:10},children:"Malaysia Covid 19 using React and Chart.js"}),Object(N.jsx)(x.a,{className:"ml-auto float-right",navbar:!0,children:Object(N.jsx)(g.a,{nav:!0,inNavbar:!0,children:Object(N.jsx)(O.a,{nav:!0,caret:!0,className:"pro-pic",children:Object(N.jsx)("img",{src:w,alt:"user",className:"rounded-circle",width:"31",onClick:c})})})})]})]})]})},y=t(40),k=t(121),K=t.n(k),_=function(e){var a=function(){document.getElementById("logobg").classList.toggle("expand-logo")};return Object(N.jsx)("aside",{className:"left-sidebar",id:"sidebarbg","data-sidebarbg":"skin6",onMouseEnter:a.bind(null),onMouseLeave:a.bind(null),children:Object(N.jsx)("div",{className:"scroll-sidebar",children:Object(N.jsx)(K.a,{className:"sidebar-nav",children:Object(N.jsx)(x.a,{id:"sidebarnav",children:e.routes.map((function(a,t){return a.redirect?null:Object(N.jsx)("li",{className:(s=a.path,(e.location.pathname.indexOf(s)>-1?"selected":"")+(a.pro?" active active-pro":"")+" sidebar-item"),children:Object(N.jsxs)(y.b,{to:a.path,className:"sidebar-link",activeClassName:"active",children:[Object(N.jsx)("i",{className:a.icon}),Object(N.jsx)("span",{className:"hide-menu",children:a.name})]})},t);var s}))})})})})},V=function(){return Object(N.jsxs)("footer",{className:"footer text-center",children:["This site is for educational and learning purposes only."," ",Object(N.jsx)("a",{href:"./#/About",children:"About & Disclaimer"}),"."]})},I=t(280),S=t(281),P=t(282),M=t(283),L=t(284),D=t(285),R=t(286),E=t(287),A=t(288),F=function(){return Object(N.jsx)("div",{children:Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{lg:3}),Object(N.jsxs)(S.a,{lg:6,children:[Object(N.jsx)("h2",{className:"mb-3",children:"About"}),Object(N.jsxs)(P.a,{children:[Object(N.jsx)(M.a,{top:!0,src:v}),Object(N.jsxs)(L.a,{children:[Object(N.jsx)("p",{className:"lead",children:"This is just another simple site with source code to learn React Hook, Bootstrap, and Chart.js"}),Object(N.jsxs)(D.a,{children:["The data for this site is from ",Object(N.jsx)("a",{href:"https://github.com/MoH-Malaysia/covid19-public",target:"_blank",children:"Open data on COVID-19 in Malaysia"})," and this site will do some simple calculations to display the data. Please report the bugs if you found any bugs or miscalculations on this site, or even better, please fork the source code on Github, fix the bugs and contribute to the project."]}),Object(N.jsx)(R.a,{children:"Disclaimer"}),Object(N.jsx)(D.a,{children:"Please visit Covid-19 Data Official site for accurate Covid-19 information. This site is just for educational and learning purposes only. It has not gone through any rigorous testing, so it might still have some bugs or miscalculations."}),Object(N.jsx)(R.a,{children:"Project Github URL"}),Object(N.jsx)(D.a,{children:Object(N.jsx)("a",{href:"https://github.com/sanme98/my-covid19-react-chartjs",target:"_blank",children:"https://github.com/sanme98/my-covid19-react-chartjs"})}),Object(N.jsxs)(D.a,{children:["Please head to ",Object(N.jsx)("a",{href:"./",target:"_blank",children:"Testing"})," for some brief explanations."]}),Object(N.jsx)(R.a,{children:"Credit / Some Libraries Used"}),Object(N.jsxs)(E.a,{children:[Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://github.com/MoH-Malaysia/covid19-public",target:"_blank",children:"Open data on COVID-19 in Malaysia"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://github.com/wrappixel/xtreme-react-lite",target:"_blank",children:"Xtreme React Admin Lite"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://reactjs.org/",target:"_blank",children:"React"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://getbootstrap.com/",target:"_blank",children:"Bootstrap"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://reactstrap.github.io/",target:"_blank",children:"reactstrap"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://www.chartjs.org/",target:"_blank",children:"Chart.js"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://www.chartjs.org/chartjs-plugin-zoom/",target:"_blank",children:"chartjs-plugin-zoom"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://www.papaparse.com/",target:"_blank",children:"Papa Parse"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://github.com/reactchartjs/react-chartjs-2",target:"_blank",children:"react-chartjs-2"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://github.com/glennreyes/react-countup",target:"_blank",children:"react-countup"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://github.com/Bunlong/react-papaparse",target:"_blank",children:"react-papaparse"})}),Object(N.jsx)(A.a,{children:Object(N.jsx)("a",{href:"https://react-table.tanstack.com/",target:"_blank",children:"react-table"})}),Object(N.jsx)(A.a,{children:"..."})]})]})]})]}),Object(N.jsx)(S.a,{lg:3})]})})},U=t(17),z=t.n(U),H=t(22),T=t(30),W=t(20),B=t(23),G=t.n(B),J=t(21),Z=t.n(J),X=function(){var e=n.a.useState({casesKV:null,cases:[],dates:[],totalCases:0,newCases:0,changes:0,lastUpdate:null,accumulativeCases:null}),a=Object(i.a)(e,2),t=a[0],s=a[1],c=n.a.useRef(null);n.a.useEffect((function(){function e(){return(e=Object(H.a)(z.a.mark((function e(){var a,t,n,c,r,l,i,o,d,u,j,h,b,m;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_state.csv").then((function(e){return e.text()})).then((function(e){return G.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:for(a=e.sent,t=a.data.filter((function(e){return"Selangor"===e.state||"W.P. Kuala Lumpur"===e.state||"W.P. Putrajaya"===e.state})),n=t.map((function(e){return e.date})),c=t.filter((function(e){return e.date===n[n.length-1]})),r=t.filter((function(e){return e.date===n[n.length-4]})),l=t.map((function(e){return e.cases_new})),i=t.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),o=n[n.length-1],d=c.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=(d-u)/u*100,h=[],b=0,m=0;m<l.length;m++)b+=parseInt(l[m]),0!==m&&(m+1)%3===0&&h.push(b);i!==b&&(console.warn("Error in Accumulate cases calculation. It will not display!"),h=[]),s({allCases:t,casesKV:t,cases:l,dates:n,totalCases:i,newCases:d,changes:j,lastUpdate:o,accumulativeCases:h});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}W.b.register(T.a),function(){e.apply(this,arguments)}()}),[]);var r=function(e){var a,n=new Date;void 0===e?a=t.allCases:(n.setMonth(n.getMonth()-e),a=t.allCases.filter((function(e){return e.date>=n.toISOString().substr(0,10)})));for(var c=a.map((function(e){return e.date})),r=a.filter((function(e){return e.date===c[c.length-1]})),l=a.filter((function(e){return e.date===c[c.length-4]})),i=a.map((function(e){return e.cases_new})),o=a.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),d=c[c.length-1],u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=l.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),h=(u-j)/j*100,b=[],m=0,p=0;p<i.length;p++)m+=parseInt(i[p]),0!==p&&(p+1)%3===0&&b.push(m);o!==m&&(console.warn("Error in Accumulate cases calculation. It will not display!"),b=[]),s({allCases:t.allCases,casesKV:a,cases:i,dates:c,totalCases:o,newCases:u,changes:h,lastUpdate:d,accumulativeCases:b})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Last Update"}),Object(N.jsx)("span",{className:"h3 font-weight-bold mb-0",children:null!==t.lastUpdate?t.lastUpdate:"-"})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-calendar"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total cases"}),Object(N.jsx)(Z.a,{className:"h3 font-weight-bold mb-0",style:{color:"blue"},end:t.totalCases,separator:",",decimals:0,decimal:",",duration:3})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New cases"}),Object(N.jsx)("span",{className:"h3 font-weight-bold mb-0",style:{color:"red"},children:Object(N.jsx)("i",{className:"fas fa-arrow-up"})}),Object(N.jsx)(Z.a,{className:"h3 font-weight-bold mb-0",style:{color:"red"},end:t.newCases,separator:",",decimals:0,decimal:",",duration:3})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-chart-pie"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Daily Changes"}),Object(N.jsxs)("span",{className:"h3 font-weight-bold mb-0",style:t.changes>0?{color:"red"}:{color:"green"},children:[Object(N.jsx)("i",{className:t.changes>0?"fas fa-arrow-up":"fas fa-arrow-down"}),t.changes.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-percent"})})})]})})})})]}),Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{lg:7,md:12,children:Object(N.jsx)("div",{className:"header",children:Object(N.jsx)("h1",{className:"title",children:"Klang Valley Covid 19 Daily New Cases"})})}),Object(N.jsxs)(S.a,{lg:5,md:12,className:"text-right",children:[Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r()},style:{marginRight:"3px"},children:"All"}),Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r(6)},style:{marginRight:"3px"},children:"6 Months"}),Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r(3)},style:{marginRight:"3px"},children:"3 Months"}),Object(N.jsx)(b.a,{onClick:function(){c.current.resetZoom()},children:"Reset zoom"})]})]}),Object(N.jsx)(I.a,{children:Object(N.jsx)(S.a,{sm:12,children:Object(N.jsx)(W.a,{ref:c,data:function(){var e=null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.cases_new})):[],a=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Kuala Lumpur"===e.state})).map((function(e){return e.cases_new})):[],s=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Putrajaya"===e.state})).map((function(e){return e.cases_new})):[];return{labels:null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.date})):[],datasets:[{type:"line",label:"Accumulate Cases",data:t.accumulativeCases,yAxisID:"Line"},{type:"bar",label:"Selangor",backgroundColor:"#f87979",data:e},{type:"bar",label:"Kuala Lumpur",backgroundColor:"#007979",data:a},{type:"bar",label:"Putrajaya",backgroundColor:"#000079",data:s}]}},options:{scales:{x:{stacked:!0},y:{stacked:!0},Line:{position:"right"}},maintainAspectRatio:!0,responsive:!0,plugins:{zoom:{zoom:{wheel:{enabled:!0},mode:"xy",speed:50},pan:{enabled:!0,mode:"xy",speed:50}},legend:{onClick:null}}},className:"mb-xl-4"})})})]})},q=function(){var e=n.a.useState({casesKV:null,cases:[],dates:[],totalCases:0,newCases:0,changes:0,lastUpdate:null,accumulativeCases:null}),a=Object(i.a)(e,2),t=a[0],s=a[1],c=n.a.useRef(null);n.a.useEffect((function(){function e(){return(e=Object(H.a)(z.a.mark((function e(){var a,t,n,c,r,l,i,o,d,u,j,h,b,m;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_state.csv").then((function(e){return e.text()})).then((function(e){return G.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:for(a=e.sent,t=a.data.filter((function(e){return"Sabah"===e.state||"Sarawak"===e.state||"W.P. Labuan"===e.state})),n=t.map((function(e){return e.date})),c=t.filter((function(e){return e.date===n[n.length-1]})),r=t.filter((function(e){return e.date===n[n.length-4]})),l=t.map((function(e){return e.cases_new})),i=t.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),o=n[n.length-1],d=c.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=(d-u)/u*100,h=[],b=0,m=0;m<l.length;m++)b+=parseInt(l[m]),0!==m&&(m+1)%3===0&&h.push(b);i!==b&&(console.warn("Error in Accumulate cases calculation. It will not display!"),h=[]),s({allCases:t,casesKV:t,cases:l,dates:n,totalCases:i,newCases:d,changes:j,lastUpdate:o,accumulativeCases:h});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}W.b.register(T.a),function(){e.apply(this,arguments)}()}),[]);var r=function(e){var a,n=new Date;void 0===e?a=t.allCases:(n.setMonth(n.getMonth()-e),a=t.allCases.filter((function(e){return e.date>=n.toISOString().substr(0,10)})));for(var c=a.map((function(e){return e.date})),r=a.filter((function(e){return e.date===c[c.length-1]})),l=a.filter((function(e){return e.date===c[c.length-4]})),i=a.map((function(e){return e.cases_new})),o=a.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),d=c[c.length-1],u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=l.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),h=(u-j)/j*100,b=[],m=0,p=0;p<i.length;p++)m+=parseInt(i[p]),0!==p&&(p+1)%3===0&&b.push(m);o!==m&&(console.warn("Error in Accumulate cases calculation. It will not display!"),b=[]),s({allCases:t.allCases,casesKV:a,cases:i,dates:c,totalCases:o,newCases:u,changes:h,lastUpdate:d,accumulativeCases:b})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Last Update"}),Object(N.jsx)("span",{className:"h3 font-weight-bold mb-0",children:null!==t.lastUpdate?t.lastUpdate:"-"})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-calendar"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total cases"}),Object(N.jsx)(Z.a,{className:"h3 font-weight-bold mb-0",style:{color:"blue"},end:t.totalCases,separator:",",decimals:0,decimal:",",duration:3})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New cases"}),Object(N.jsx)("span",{className:"h3 font-weight-bold mb-0",style:{color:"red"},children:Object(N.jsx)("i",{className:"fas fa-arrow-up"})}),Object(N.jsx)(Z.a,{className:"h3 font-weight-bold mb-0",style:{color:"red"},end:t.newCases,separator:",",decimals:0,decimal:",",duration:3})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-chart-pie"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Daily Changes"}),Object(N.jsxs)("span",{className:"h3 font-weight-bold mb-0",style:t.changes>0?{color:"red"}:{color:"green"},children:[Object(N.jsx)("i",{className:t.changes>0?"fas fa-arrow-up":"fas fa-arrow-down"}),t.changes.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-percent"})})})]})})})})]}),Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{lg:7,md:12,children:Object(N.jsx)("div",{className:"header",children:Object(N.jsx)("h1",{className:"title",children:"East Malaysia Covid 19 Daily New Cases"})})}),Object(N.jsxs)(S.a,{lg:5,md:12,className:"text-right",children:[Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r()},style:{marginRight:"3px"},children:"All"}),Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r(6)},style:{marginRight:"3px"},children:"6 Months"}),Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r(3)},style:{marginRight:"3px"},children:"3 Months"}),Object(N.jsx)(b.a,{onClick:function(){c.current.resetZoom()},children:"Reset zoom"})]})]}),Object(N.jsx)(I.a,{children:Object(N.jsx)(S.a,{sm:12,children:Object(N.jsx)(W.a,{ref:c,data:function(){var e=null!=t.casesKV?t.casesKV.filter((function(e){return"Sabah"===e.state})).map((function(e){return e.cases_new})):[],a=null!=t.casesKV?t.casesKV.filter((function(e){return"Sarawak"===e.state})).map((function(e){return e.cases_new})):[],s=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Labuan"===e.state})).map((function(e){return e.cases_new})):[];return{labels:null!=t.casesKV?t.casesKV.filter((function(e){return"Sabah"===e.state})).map((function(e){return e.date})):[],datasets:[{type:"line",label:"Accumulate Cases",data:t.accumulativeCases,yAxisID:"Line"},{label:"Sabah",backgroundColor:"#f87979",data:e},{label:"Sarawak",backgroundColor:"#007979",data:a},{label:"Labuan",backgroundColor:"#000079",data:s}]}},options:{scales:{x:{stacked:!0},y:{stacked:!0},Line:{position:"right"}},maintainAspectRatio:!0,responsive:!0,plugins:{zoom:{zoom:{wheel:{enabled:!0},mode:"xy",speed:50},pan:{enabled:!0,mode:"xy",speed:50}},legend:{onClick:null}}},className:"mb-xl-4"})})})]})},Q=function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{md:0,lg:2}),Object(N.jsx)(S.a,{md:12,lg:8,children:Object(N.jsx)(W.d,{data:e.data})}),Object(N.jsx)(S.a,{md:0,lg:2})]})})},Y=function(){var e=n.a.useState({casesKV:null,cases:[],dates:[],totalCases:0,newCases:0,changes:0,lastUpdate:null,accumulativeCases:[]}),a=Object(i.a)(e,2),t=a[0],s=a[1],c=n.a.useRef(null);n.a.useEffect((function(){function e(){return(e=Object(H.a)(z.a.mark((function e(){var a,t,n,c,r,l,i,o,d,u,j,h,b,m;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_state.csv").then((function(e){return e.text()})).then((function(e){return G.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:for(a=e.sent,t=a.data.filter((function(e){return"Sabah"!==e.state&&"Sarawak"!==e.state&&"W.P. Labuan"!==e.state})),n=t.map((function(e){return e.date})),c=t.filter((function(e){return e.date===n[n.length-1]})),r=t.filter((function(e){return e.date===n[n.length-14]})),l=t.map((function(e){return e.cases_new})),i=t.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),o=n[n.length-1],d=c.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=(d-u)/u*100,h=[],b=0,m=0;m<l.length;m++)b+=parseInt(l[m]),0!==m&&(m+1)%13===0&&h.push(b);i!==b&&(console.warn("Error in Accumulate cases calculation. It will not display!"),h=[]),s({allCases:t,casesKV:t,cases:l,dates:n,totalCases:i,newCases:d,changes:j,lastUpdate:o,accumulativeCases:h});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}W.b.register(T.a),function(){e.apply(this,arguments)}()}),[]);var r=function(e){var a,n=new Date;void 0===e?a=t.allCases:(n.setMonth(n.getMonth()-e),a=t.allCases.filter((function(e){return e.date>=n.toISOString().substr(0,10)})));for(var c=a.map((function(e){return e.date})),r=a.filter((function(e){return e.date===c[c.length-1]})),l=a.filter((function(e){return e.date===c[c.length-14]})),i=a.map((function(e){return e.cases_new})),o=a.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),d=c[c.length-1],u=r.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),j=l.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),h=(u-j)/j*100,b=[],m=0,p=0;p<i.length;p++)m+=parseInt(i[p]),0!==p&&(p+1)%13===0&&b.push(m);o!==m&&(console.warn("Error in Accumulate cases calculation. It will not display!"),b=[]),s({allCases:t.allCases,casesKV:a,cases:i,dates:c,totalCases:o,newCases:u,changes:h,lastUpdate:d,accumulativeCases:b})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Last Update"}),Object(N.jsx)("span",{className:"h3 font-weight-bold mb-0",children:null!==t.lastUpdate?t.lastUpdate:"-"})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-calendar"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total cases"}),Object(N.jsx)(Z.a,{className:"h3 font-weight-bold mb-0",style:{color:"blue"},end:t.totalCases,separator:",",decimals:0,decimal:",",duration:3})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New cases"}),Object(N.jsx)("span",{className:"h3 font-weight-bold mb-0",style:{color:"red"},children:Object(N.jsx)("i",{className:"fas fa-arrow-up"})}),Object(N.jsx)(Z.a,{className:"h3 font-weight-bold mb-0",style:{color:"red"},end:t.newCases,separator:",",decimals:0,decimal:",",duration:3})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-chart-pie"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Daily Changes"}),Object(N.jsxs)("span",{className:"h3 font-weight-bold mb-0",style:t.changes>0?{color:"red"}:{color:"green"},children:[Object(N.jsx)("i",{className:t.changes>0?"fas fa-arrow-up":"fas fa-arrow-down"}),t.changes.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-percent"})})})]})})})})]}),Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{xl:7,lg:12,children:Object(N.jsx)("div",{className:"header",children:Object(N.jsx)("h1",{className:"title",children:"West Malaysia Covid 19 Daily New Cases"})})}),Object(N.jsxs)(S.a,{xl:5,lg:12,className:"text-right",children:[Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r()},style:{marginRight:"3px"},children:"All"}),Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r(6)},style:{marginRight:"3px"},children:"6 Months"}),Object(N.jsx)(b.a,{color:"primary",onClick:function(){return r(3)},style:{marginRight:"3px"},children:"3 Months"}),Object(N.jsx)(b.a,{onClick:function(){c.current.resetZoom()},children:"Reset zoom"})]})]}),Object(N.jsx)(I.a,{children:Object(N.jsx)(S.a,{sm:12,children:Object(N.jsx)(W.a,{ref:c,data:function(){var e=null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.cases_new})):[],a=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Kuala Lumpur"===e.state})).map((function(e){return e.cases_new})):[],s=null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Putrajaya"===e.state})).map((function(e){return e.cases_new})):[],n=null!=t.casesKV?t.casesKV.filter((function(e){return"Johor"===e.state})).map((function(e){return e.cases_new})):[],c=null!=t.casesKV?t.casesKV.filter((function(e){return"Kedah"===e.state})).map((function(e){return e.cases_new})):[],r=null!=t.casesKV?t.casesKV.filter((function(e){return"Kelantan"===e.state})).map((function(e){return e.cases_new})):[],l=null!=t.casesKV?t.casesKV.filter((function(e){return"Melaka"===e.state})).map((function(e){return e.cases_new})):[],i=null!=t.casesKV?t.casesKV.filter((function(e){return"Negeri Sembilan"===e.state})).map((function(e){return e.cases_new})):[],o=null!=t.casesKV?t.casesKV.filter((function(e){return"Pahang"===e.state})).map((function(e){return e.cases_new})):[],d=null!=t.casesKV?t.casesKV.filter((function(e){return"Perak"===e.state})).map((function(e){return e.cases_new})):[],u=null!=t.casesKV?t.casesKV.filter((function(e){return"Perlis"===e.state})).map((function(e){return e.cases_new})):[],j=null!=t.casesKV?t.casesKV.filter((function(e){return"Pulau Pinang"===e.state})).map((function(e){return e.cases_new})):[],h=null!=t.casesKV?t.casesKV.filter((function(e){return"Terengganu"===e.state})).map((function(e){return e.cases_new})):[];return{labels:null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.date})):[],datasets:[{label:"Selangor",backgroundColor:"#f87979",data:e},{label:"Kuala Lumpur",backgroundColor:"#007979",data:a},{label:"Putrajaya",backgroundColor:"#000079",data:s},{label:"Johor",backgroundColor:"#CCFF00",data:n},{label:"Kedah",backgroundColor:"#000000",data:c},{label:"Kelantan",backgroundColor:"#3366FF",data:r},{label:"Melaka",backgroundColor:"#CCCC00",data:l},{label:"Sembilan",backgroundColor:"#CCCCFF",data:i},{label:"Pahang",backgroundColor:"#FFCC99",data:o},{label:"Perak",backgroundColor:"#CC9966",data:d},{label:"Perlis",backgroundColor:"#CC99FF",data:u},{label:"Pulau Pinang",backgroundColor:"#660000",data:j},{label:"Terengganu",backgroundColor:"#333333",data:h}]}},options:{scales:{x:{stacked:!0},y:{stacked:!0}},maintainAspectRatio:!0,responsive:!0,plugins:{zoom:{zoom:{wheel:{enabled:!0},mode:"xy",speed:50},pan:{enabled:!0,mode:"xy",speed:50}}}},className:"mb-xl-4"})})}),Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{md:5,children:Object(N.jsx)(Q,{data:function(){return{labels:["Selangor","Kuala Lumpur","Putrajaya","Johor","Kedah","Kelantan","Melaka","Sembilan","Pahang","Perak","Perlis","Penang","Terengganu"],datasets:[{data:[null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Kuala Lumpur"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"W.P. Putrajaya"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Johor"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Kedah"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Kelantan"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Melaka"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Negeri Sembilan"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Pahang"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Perak"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Perlis"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Pulau Pinang"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0,null!=t.casesKV?t.casesKV.filter((function(e){return"Terengganu"===e.state})).map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0):0],label:"# of Cases",backgroundColor:["rgba(248, 121, 121, 0.5)","rgba(0, 121, 121, 0.5)","rgba(0, 0, 121, 0.5)","rgba(204, 255, 0, 0.5)","rgba(0, 0, 0, 0.5)","rgba(51, 102, 255, 0.5)","rgba(204, 204, 0, 0.5)","rgba(204, 204, 255, 0.5)","rgba(255, 204, 153, 0.5)","rgba(204, 153, 102, 0.5)","rgba(204, 153, 255, 0.5)","rgba(102, 0, 0, 0.5)","rgba(51, 51, 51, 0.5)"],borderWidth:1}]}}})}),Object(N.jsx)(S.a,{md:7,children:Object(N.jsx)(W.c,{data:function(){return{labels:null!=t.casesKV?t.casesKV.filter((function(e){return"Selangor"===e.state})).map((function(e){return e.date})):[],datasets:[{label:"Accumulate Cases",backgroundColor:"#f87979",data:t.accumulativeCases}]}}})})]})]})},$=t(16),ee=t(126),ae=t(289),te=function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h4",{children:"Last 14 Days New Cases"}),Object(N.jsxs)(ae.a,{hover:!0,size:"sm",striped:!0,bordered:!0,id:"data",children:[Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:["Date","New Cases","Import Cases","Recovered Cases","Active Cases"].map((function(e,a){return Object(N.jsx)("th",{children:e.toUpperCase()},a)}))})}),Object(N.jsx)("tbody",{children:e.data&&e.data.map((function(e){var a=e.date,t=e.cases_new,s=e.cases_import,n=e.cases_recovered,c=e.cases_active;return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:a}),Object(N.jsx)("td",{children:parseInt(t).toLocaleString()}),Object(N.jsx)("td",{children:parseInt(s).toLocaleString()}),Object(N.jsx)("td",{children:parseInt(n).toLocaleString()}),Object(N.jsx)("td",{children:parseInt(c).toLocaleString()})]},a)}))})]})]})},se=function(){var e=n.a.useState({allCases:null,last14Cases:null,cases:[],dates:[],totalCases:0,newCases:0,changes:0,lastUpdate:null}),a=Object(i.a)(e,2),t=a[0],s=a[1],c=n.a.useState(!1),r=Object(i.a)(c,2),l=r[0],o=r[1],d=n.a.useRef(null);function u(){return j.apply(this,arguments)}function j(){return(j=Object(H.a)(z.a.mark((function e(){var a,t,n,c,r,l,i,o,d,u,j,h,b,m;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_malaysia.csv").then((function(e){return e.text()})).then((function(e){return G.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:return a=e.sent,t=a.data,n=t.map((function(e){return e.cases_new})),c=t.map((function(e){return e.date})),r=t.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),l=c[c.length-1],i=parseInt(n[n.length-1]),o=parseInt(n[n.length-2]),d=(i-o)/o*100,u=t.slice(-14),e.next=14,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/deaths_malaysia.csv").then((function(e){return e.text()})).then((function(e){return G.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 14:j=e.sent,h=j.data,b=h.map((function(e){return e.deaths_new_dod})),m=new Array(52).fill(0),c.length!==b.length+m.length&&(console.warn("Error in Death cases calculation. It will not display!"),b=[],m=[]),s({allCases:t,last14Cases:u,cases:n,dates:c,totalCases:r,newCases:i,changes:d,lastUpdate:l,allCasesDeath:h,casesDeath:[].concat(Object($.a)(m),Object($.a)(b))});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.a.useEffect((function(){W.b.register(T.a),u()}),[]);var h=n.a.useCallback(Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:return o(!0),e.next=5,u();case 5:o(!1);case 6:case"end":return e.stop()}}),e)}))),[l]),m=function(e){var a,n,c,r=new Date;void 0===e?(a=t.allCases,n=t.allCasesDeath,c=new Array(52).fill(0)):(r.setMonth(r.getMonth()-e),a=t.allCases.filter((function(e){return e.date>=r.toISOString().substr(0,10)})),n=t.allCasesDeath.filter((function(e){return e.date>=r.toISOString().substr(0,10)})),c=[]);var l=a.map((function(e){return e.cases_new})),i=a.map((function(e){return e.date})),o=a.map((function(e){return parseInt(e.cases_new)||0})).reduce((function(e,a){return e+a}),0),d=i[i.length-1],u=parseInt(l[l.length-1]),j=parseInt(l[l.length-2]),h=(u-j)/j*100,b=a.slice(-14),m=n.map((function(e){return e.deaths_new_dod}));i.length!==m.length+c.length&&(console.warn("Error in Death cases calculation. It will not display!"),Object(ee.a)("casesDeath"),c=[]),s({allCases:t.allCases,last14Cases:b,cases:l,dates:i,totalCases:o,newCases:u,changes:h,lastUpdate:d,allCasesDeath:t.allCasesDeath,casesDeath:[].concat(Object($.a)(c),Object($.a)(m))})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Last Update"}),Object(N.jsx)("span",{className:"h3 font-weight-bold mb-0",children:null!==t.lastUpdate?t.lastUpdate:"-"})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-calendar"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total cases"}),Object(N.jsx)(Z.a,{className:"h3 font-weight-bold mb-0",style:{color:"blue"},end:t.totalCases,separator:",",decimals:0,decimal:",",duration:5})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New cases"}),Object(N.jsx)("span",{className:"h3 font-weight-bold mb-0",style:{color:"red"},children:Object(N.jsx)("i",{className:"fas fa-arrow-up"})}),Object(N.jsx)(Z.a,{className:"h3 font-weight-bold mb-0",style:{color:"red"},end:t.newCases,separator:",",decimals:0,decimal:",",duration:5})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-chart-pie"})})})]})})})}),Object(N.jsx)(S.a,{sm:6,lg:3,children:Object(N.jsx)(P.a,{className:"card-stats",children:Object(N.jsx)(L.a,{children:Object(N.jsxs)(I.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(R.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Daily Changes"}),Object(N.jsxs)("span",{className:"h3 font-weight-bold mb-0",style:t.changes>0?{color:"red"}:{color:"green"},children:[Object(N.jsx)("i",{className:t.changes>0?"fas fa-arrow-up":"fas fa-arrow-down"}),t.changes.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]}),Object(N.jsx)(S.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow",children:Object(N.jsx)("i",{className:"fas fa-percent"})})})]})})})})]}),Object(N.jsxs)(I.a,{children:[Object(N.jsx)(S.a,{lg:7,md:12,children:Object(N.jsx)("div",{className:"header",children:Object(N.jsx)("h1",{className:"title",children:"Malaysia Covid 19 Daily New Cases"})})}),Object(N.jsxs)(S.a,{lg:5,md:12,className:"text-right",children:[Object(N.jsx)(b.a,{color:"primary",onClick:function(){return m()},style:{marginRight:"3px"},children:"All"}),Object(N.jsx)(b.a,{color:"primary",onClick:function(){return m(6)},style:{marginRight:"3px"},children:"6 Months"}),Object(N.jsx)(b.a,{color:"primary",onClick:function(){return m(3)},style:{marginRight:"3px"},children:"3 Months"}),Object(N.jsx)(b.a,{onClick:function(){d.current.resetZoom()},style:{marginRight:"3px"},children:"Reset zoom"}),Object(N.jsx)(b.a,{color:"warning",disabled:l,onClick:h,children:"Reload"})]})]}),Object(N.jsx)(I.a,{children:Object(N.jsx)(S.a,{sm:12,children:Object(N.jsx)(W.a,{ref:d,data:function(){return{labels:t.dates,datasets:[{type:"line",label:"# of Death",backgroundColor:"#666666",data:t.casesDeath,yAxisID:"Line"},{type:"bar",label:"# of Covid",backgroundColor:"#f87979",data:t.cases,yAxisID:"Bar"}]}},options:{scales:{Line:{position:"right"}},maintainAspectRatio:!0,responsive:!0,plugins:{zoom:{zoom:{wheel:{enabled:!0},mode:"xy",speed:50},pan:{enabled:!0,mode:"xy",speed:50}}}},className:"mb-xl-4"})})}),Object(N.jsx)(I.a,{children:Object(N.jsx)(S.a,{sm:12,children:Object(N.jsx)(te,{data:t.last14Cases})})}),Object(N.jsx)(I.a,{children:Object(N.jsx)(S.a,{className:"text-right",children:Object(N.jsx)("a",{style:{color:"white"},href:"#/DataMalaysia",children:Object(N.jsx)(b.a,{color:"info",children:"More Detail"})})})})]})},ne=t(290),ce=t(291),re=t(292),le=t(47);function ie(e){var a=e.columns,t=e.data,s=n.a.useMemo((function(){return{Filter:c}}),[]);function c(e){var a=e.column,t=a.filterValue,s=a.preFilteredRows,n=a.setFilter,c=s.length;return Object(N.jsx)(ne.a,{value:t||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var r=Object(le.useTable)({columns:a,data:t,initialState:{pageIndex:0,pageSize:20},defaultColumn:s},le.useFilters,le.useSortBy,le.usePagination),i=r.getTableProps,o=r.getTableBodyProps,d=r.headerGroups,u=(r.rows,r.prepareRow),j=r.page,h=r.canPreviousPage,m=r.canNextPage,p=r.pageOptions,f=r.pageCount,x=r.gotoPage,g=r.nextPage,O=r.previousPage,w=r.setPageSize,v=r.state,C=v.pageIndex,y=v.pageSize;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(ae.a,Object(l.a)(Object(l.a)({striped:!0,bordered:!0,hover:!0,size:"sm"},i()),{},{children:[Object(N.jsxs)("thead",{children:[d.map((function(e){return Object(N.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(N.jsxs)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(N.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))})),d.map((function(e){return Object(N.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(N.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:Object(N.jsx)("div",{children:e.canFilter?e.render("Filter"):null})}))}))}))}))]}),Object(N.jsx)("tbody",Object(l.a)(Object(l.a)({},o()),{},{children:j.map((function(e,a){return u(e),Object(N.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(N.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(N.jsxs)("div",{className:"form-inline",children:[Object(N.jsx)(b.a,{onClick:function(){return x(0)},disabled:!h,style:{marginRight:"3px"},children:"<<"})," ",Object(N.jsx)(b.a,{onClick:function(){return O()},disabled:!h,style:{marginRight:"3px"},children:"<"})," ",Object(N.jsx)(b.a,{onClick:function(){return g()},disabled:!m,style:{marginRight:"3px"},children:">"})," ",Object(N.jsx)(b.a,{onClick:function(){return x(f-1)},disabled:!m,style:{marginRight:"3px"},children:">>"})," ",Object(N.jsxs)("span",{style:{marginRight:"3px"},children:["Page"," ",Object(N.jsxs)("strong",{children:[C+1," of ",p.length]})]}),Object(N.jsx)(S.a,{children:Object(N.jsxs)(ce.a,{children:[Object(N.jsx)(re.a,{for:"pageNo",children:"Go to page:"}),Object(N.jsx)(ne.a,{type:"number",defaultValue:C+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;x(a)},style:{width:"100px"},id:"pageNo"})]})}),Object(N.jsx)(ne.a,{type:"select",value:y,onChange:function(e){w(Number(e.target.value))},children:[10,20,50,100].map((function(e){return Object(N.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})}var oe=function(){var e=n.a.useState([]),a=Object(i.a)(e,2),t=a[0],s=a[1],c=n.a.useMemo((function(){return[{Header:"Date",accessor:"date"},{Header:"New Cases",accessor:"cases_new",Filter:r,filter:l},{Header:"Import Cases",accessor:"cases_import",Filter:r,filter:l},{Header:"Recovered Cases",accessor:"cases_recovered",Filter:r,filter:l},{Header:"Active Cases",accessor:"cases_active",Filter:r,filter:l}]}),[]);function r(e){var a=e.column,t=a.filterValue,s=a.setFilter,c=a.preFilteredRows,r=a.id,l=n.a.useMemo((function(){var e=c.length?c[0].values[r]:0,a=c.length?c[0].values[r]:0;return c.forEach((function(t){e=Math.min(t.values[r],e),a=Math.max(t.values[r],a)})),[e,a]}),[r,c]),o=Object(i.a)(l,2),d=o[0],u=o[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ne.a,{type:"range",min:d,max:u,value:t||d,onChange:function(e){s(parseInt(e.target.value,10))}})})}function l(e,a,t){return e.filter((function(e){return e.values[a]>=t}))}return n.a.useEffect((function(){function e(){return(e=Object(H.a)(z.a.mark((function e(){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/MoH-Malaysia/covid19-public/main/epidemic/cases_malaysia.csv").then((function(e){return e.text()})).then((function(e){return G.a.parse(e,{header:!0,skipEmptyLines:!0})})).catch((function(e){return console.log(e)}));case 2:a=e.sent,s(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l.autoRemove=function(e){return"number"!==typeof e},Object(N.jsx)("div",{children:Object(N.jsx)(ie,{columns:c,data:t})})},de=[{path:"/dashboard",name:"Malaysia",icon:"ti-loop",component:se},{path:"/KlangValley",name:"Klang Valley",icon:"mdi mdi-credit-card-multiple",component:X},{path:"/EastMalaysia",name:"East Malaysia",icon:"mdi mdi-comment-processing-outline",component:q},{path:"/WestMalaysia",name:"West Malaysia",icon:"mdi mdi-apps",component:Y},{path:"/About",name:"About",icon:"mdi mdi-arrange-send-backward",component:F},{path:"/",pathTo:"/dashboard",name:"Dashboard",redirect:!0}],ue=void 0,je=[{path:"/",name:"Starter",component:function(e){var a=Object(s.useState)(window.innerWidth),t=Object(i.a)(a,2),n=t[0],c=t[1];return e.history.listen((function(e,a){window.innerWidth<767&&-1!==document.getElementById("main-wrapper").className.indexOf("show-sidebar")&&document.getElementById("main-wrapper").classList.toggle("show-sidebar")})),Object(s.useEffect)((function(){var e=function(){var e=document.getElementById("main-wrapper");c(window.innerWidth),n<1170?(e.setAttribute("data-sidebartype","mini-sidebar"),e.classList.add("mini-sidebar")):(e.setAttribute("data-sidebartype","full"),e.classList.remove("mini-sidebar"))};return"complete"===document.readyState&&e(),window.addEventListener("resize",e.bind(ue)),window.addEventListener("load",e.bind(ue)),function(){window.removeEventListener("load",e.bind(ue)),window.removeEventListener("resize",e.bind(ue))}}),[n]),Object(N.jsxs)("div",{id:"main-wrapper","data-theme":"light","data-layout":"vertical","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed","data-boxed-layout":"full",children:[Object(N.jsx)(C,{}),Object(N.jsx)(_,Object(l.a)(Object(l.a)({},e),{},{routes:de})),Object(N.jsxs)("div",{className:"page-wrapper d-block",children:[Object(N.jsx)("div",{className:"page-content container-fluid",children:Object(N.jsxs)(o.d,{children:[Object(N.jsx)(o.b,{path:"/DataMalaysia",children:Object(N.jsx)(oe,{})}),de.map((function(e,a){return e.redirect?Object(N.jsx)(o.a,{from:e.path,to:e.pathTo},a):Object(N.jsx)(o.b,{path:e.path,component:e.component},a)}))]})}),Object(N.jsx)(V,{})]})]})}}];t(271);r.a.render(Object(N.jsx)(y.a,{children:Object(N.jsx)(o.d,{children:je.map((function(e,a){return Object(N.jsx)(o.b,{path:e.path,component:e.component},a)}))})}),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.ead29209.chunk.js.map